/*

!! REMEMBER TO BEM !!

.block {
}
.block__element {
}
.block--modifier {
}

*/

// Only AFFIX on larger screens
.affix {
    position: relative;
}





// CORE #NAV-BANNER
#nav-banner {
	@include transition(.25s ease-in-out all);
	z-index: 35;
	background-color: $white;
	.navbar-brand {
		display: block;
		position: relative;
		max-width: 100%;
		margin-left: 20px;
		padding: 0;
		width: 75px;
		z-index: 1001;
		padding-left: 0;
		#horse {		
			@include transition(.25s ease-in-out all);
		    height: 60px;
		    width: 60px;
		    display: block;
		    margin: 20px auto 0;
			#outline .whitelogo {
				@include transition(.25s ease-in-out all);
				@include translate(-10px, 0);
				fill: $brand-blue;
			}
		}
	}
	.navbar-default .navbar-nav>li>a {
		text-align: center;
	}
	.navbar-toggle {
		@include transition(all 0.2s ease-in-out);
		margin: 26px 20px 0 0;
		border-radius: 100%;
		height: 50px;
		width: 50px;
		border: none;
		.icon-bar {
			width: 30px;
		    height: 5px;
		    border-radius: 0px;
		}
		&:hover, &:focus {
			background-color: $brand-blue;
			.icon-bar {
				background-color: $white;
			}
		}
	}
}

// FROM BREAKPOINT #NAV-BANNER
@media (min-width: $grid-float-breakpoint) {
	#nav-banner {
		left: 0;
		right: 0;
		.container-fluid {
			// HOME
			.home & {
				padding-left: 5%;
				padding-right: 13%;
			}
			padding-left: 0;
			padding-right: 0;
		}
		.navbar-brand {
			@include transition(.25s ease-in-out all);
			display: block;
			position: relative;
			max-width: 100%;
			padding: 0;
			width: 100px;
			z-index: 1001;
			padding-left: 0;
			border-radius: 100%;
			background-color: rgba(255,255,255,.2);
			#horse {		
				@include transition(.25s ease-in-out all);
			    height: 60px;
			    width: 60px;
			    display: block;
			    margin: 20px auto 0;
				#outline .whitelogo {
					@include transition(.25s ease-in-out all);
					@include translate(-10px, 0);
					fill: $white;
				}
			}
			&:hover {
				@include white-flash();
			}
			&:hover #horse #outline .whitelogo {
		    	@include animate-bgcolor-fill();
			}
		}
	}
}

// FROM MEDIUM #NAV-BANNER
@media (min-width: $screen-md-min) {
	.home #nav-banner {
		width: 620px;
		left: auto;
		.container-fluid {
			padding-left: 0;
			padding-right: 10%;
		}
	}
}

// FROM LARGE #NAV-BANNER
@media (min-width: $screen-lg-min) {
	.home #nav-banner {
		width: 620px;
		left: auto;
		.container-fluid {
			padding-left: 0;
			padding-right: 20%;
		}
	}
}


// HOMEPAGE NAV, ON LARGEST SCREENS ONLY
@media (min-width: $screen-lg-min) {
	.home #nav-banner {
		left: auto;
		min-width: 800px;
	}
}


#nav-banner .navbar {
	@include transition(.25s ease-in-out all);
	padding-left: 0;
	padding-right: 0;
	margin: 0;
}



.navbar .navbar-collapse {
	position: relative;
	z-index: 1000;
	font-size: 20px;
	font-weight: 700; 
	text-transform: uppercase;
}


// DEFAULT NAVBAR
.navbar.navbar-default {
	position: relative;
    min-height: 50px;
    margin-bottom: 20px;
    border: none;
    background-color: transparent;
    border-color: transparent;
    border-radius: 0;
}

// DEFAULT NAVBAR (NOT HOMEPAGE)
body:not(.home) #nav-banner {
	background-color: $white;		
}

// DEFAULT NAVBAR (NOT HOMEPAGE)
body:not(.home) #nav-banner .navbar .navbar-collapse li.menu-item {
	@include transition(.25s ease-in-out all);
	&:nth-child(1) a:hover {
		color: $brand-green;
		&:after {
			opacity: 1;
			background-color: rgba(0,0,0,0.05);
		}
	}
	&:nth-child(2) a:hover {
		color: $brand-red;
		&:after {
			opacity: 1;
			background-color: rgba(0,0,0,0.05);
		}
	}
	&:nth-child(3) a:hover {
		color: $brand-purple;
		&:after {
			opacity: 1;
			background-color: rgba(0,0,0,0.05);
		}
	}
	&:nth-child(4) a:hover {
		color: $brand-orange;
		&:after {
			opacity: 1;
			background-color: rgba(0,0,0,0.05);
		}
	}
}


// DEFAULT NAVBAR (NOT HOMEPAGE)
body:not(.home) #nav-banner .navbar .navbar-collapse {
	@include transition(.25s ease-in-out all);
	padding-left: 20px;
	padding-right: 20px;	
	a {
		@include transition(.25s ease-in-out all);
		color: $gray;
		&:after {					
			background-color: rgba(0,0,0,0);
		}
		&:hover:after {
			background-color: rgba(0,0,0,0.05);
		}
	}
	
}

// DEFAULT NAVBAR BRAND (NOT HOMEPAGE)
body:not(.home) #nav-banner .navbar .navbar-brand {
	width: 100px;
	padding-left: 0;
	margin-right: 20px;
	#horse {
	    height: 50px;
	    margin: 25px auto 0;
	}
	#horse #outline .whitelogo {
		fill: $brand-blue;
	}
	&:hover {
		#horse #outline .whitelogo {

		}
	}
}



// HOMEPAGE NAVBAR
.navbar {
	background-color: rgba(255,255,255,0);
}


// HOMEPAGE NAV, ON LARGER SCREENS ONLY
@media (min-width: $grid-float-breakpoint) {

	.home .navbar-header {
		float: right;
	}

	.navbar-nav {
		margin-right: 20px;
	}

	// HOMEPAGE NAV BANNER
	.home #nav-banner {
		//@include transition(.25s ease-in-out all);
		position: absolute;
		//left: 0;
		right: 0;
		//top: 100px;			
		margin-top: 100px;	
		
	}

}


// HOMEPAGE NAV, ON LARGER SCREENS ONLY
@media (min-width: $grid-float-breakpoint) {

	// HOMEPAGE NAVBAR ON DEFAULT
	#nav-banner {
		@include transition(.25s ease-in-out all);
		background-color: rgba(255,255,255,0);

		.container-fluid {
			.home & {
				@include transition(.25s ease-in-out all);
				//padding-left: 20%;
				//padding-right: 20%;
			}
		}
		.navbar .navbar-collapse {
			@include transition(.25s ease-in-out all);
			
			a {
				position: relative;
				color: $white;

				&:after {
					@include square(50px);
					@include scale(0,0);
					@include transition(.25s ease-in-out all);					
					border-radius: 100%;
					content: "";
					position: absolute;
					left: 50%;
					top: 50%;
					margin-top: -25px;
					margin-left: -25px;
					background-color: rgba(255,255,255,0);
					z-index: -1; // make sure the text sits above the ::after
				}
				&:hover:after {
					@include scale(1,1);
					background-color: rgba(255,255,255,0.25);
				}
			}
		}
		// NAVBAR COLOURS
		.navbar .navbar-collapse li.menu-item {
			@include transition(.25s ease-in-out all);
			a:hover:after {
				background-color: rgba(255,255,255,0.2);
			}
		}
	}

}

// HOMEPAGE NAV, ON LARGER SCREENS ONLY
@media (min-width: $screen-desktop) {
	
	// HOMEPAGE NAV BANNER ON AFFIX
	#nav-banner.affix {
		background-color: rgba(255,255,255,1);
		min-width: 600px;
		left: auto;
		border-radius: ($navbar-height/2) 0 0 ($navbar-height/2);
		/* &:after {
			content: "";
			position: absolute;
			right: 20px;
			top: 0;
			border-left: 1px solid $border-color;
		}
		*/

		.container-fluid {
			padding-left: 0;
			padding-right: 0;
		}
		.navbar .navbar-collapse {
			@include transition(.25s ease-in-out all);
			padding-left: 20px;
			padding-right: 20px;	
			a {
				@include transition(.25s ease-in-out all);
				color: $gray;
				&:after {					
					background-color: rgba(0,0,0,0);
				}
				&:hover:after {
					background-color: rgba(0,0,0,0.05);
				}
			}
			
		}
		.navbar-brand {
				width: 100px;
				padding-left: 0;
				margin-right: 20px;
				#horse {
				    height: 50px;
				    margin: 25px auto 0;
				}
				#horse #outline .whitelogo {
					fill: $brand-blue;
				}
				&:hover {
					#horse #outline .whitelogo {

					}
				}
			}
		// NAVBAR COLOURS
		.navbar .navbar-collapse li.menu-item {
			@include transition(.25s ease-in-out all);
			&:nth-child(1) a:hover {
				color: $brand-green;
				&:after {
					opacity: 1;
					background-color: rgba(0,0,0,0.05);
				}
			}
			&:nth-child(2) a:hover {
				color: $brand-red;
				&:after {
					opacity: 1;
					background-color: rgba(0,0,0,0.05);
				}
			}
			&:nth-child(3) a:hover {
				color: $brand-purple;
				&:after {
					opacity: 1;
					background-color: rgba(0,0,0,0.05);
				}
			}
			&:nth-child(4) a:hover {
				color: $brand-orange;
				&:after {
					opacity: 1;
					background-color: rgba(0,0,0,0.05);
				}
			}
		}
	}
}


@media (min-width: $screen-md-min) {
	// WHEN AT SCROLLED 'FIXED'
	.home #nav-banner.affix { 
		position: fixed;
		margin-top: 20px;
		//top: 0;
	}
}